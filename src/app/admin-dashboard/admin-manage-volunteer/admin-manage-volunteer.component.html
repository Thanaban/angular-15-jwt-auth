<!-- <mat-accordion>
    <mat-expansion-panel hideToggle *ngFor="let x of currentUser">
        <mat-expansion-panel-header>
        <mat-panel-title>
            {{x.id}} {{x.name}}  {{x.lastname}} {{x.non_blacklist}}
            
        </mat-panel-title>
        <mat-panel-description>
            {{x.phoneNumber}}
            
        </mat-panel-description>
        </mat-expansion-panel-header>
        <mat-slide-toggle [(ngModel)]="x.non_blacklist" (click)="update_user_status(x.id,x.non_blacklist)">สถานะกิจกรรม: {{status}}</mat-slide-toggle>
        
    </mat-expansion-panel>
</mat-accordion> -->

<mat-card style="margin-top: 2rem; margin-left: 6rem; margin-right: 6rem">
  <mat-card-content>

    <mat-form-field>
        <input matInput (keyup)="applyFilter($event)" placeholder="Filter">
      </mat-form-field>

      
    <table mat-table [dataSource]="currentUser" class="mat-elevation-z8" >


      <ng-container matColumnDef="position" style="width: 20%;">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let currentUser">
          {{currentUser.id}}
        </td>
      </ng-container>

      <ng-container matColumnDef="name" style="width: 20%;">
        <th mat-header-cell *matHeaderCellDef>ชื่อ</th>
        <td mat-cell *matCellDef="let currentUser">{{ currentUser.name }}  {{ currentUser.lastname }}</td>
      </ng-container>

      <ng-container matColumnDef="email" style="width: 20%;">
        <th mat-header-cell *matHeaderCellDef>อีเมล</th>
        <td mat-cell *matCellDef="let currentUser">{{ currentUser.email }}</td>
      </ng-container>

      <ng-container matColumnDef="weight" style="width: 20%;">
        <th mat-header-cell *matHeaderCellDef >เบอร์โทรศัพท์</th>
        <td mat-cell *matCellDef="let currentUser">{{ currentUser.phoneNumber }}</td>
      </ng-container>

      <ng-container matColumnDef="symbol" style="width: 20%;">
        <th mat-header-cell *matHeaderCellDef>สถานะ</th>
        <td mat-cell *matCellDef="let currentUser">
            <mat-slide-toggle
              [(ngModel)]="currentUser.non_blacklist"
              (click)="
                update_user_status(currentUser.id, currentUser.non_blacklist)
              "
              >{{ change_status(currentUser.non_blacklist) }}{{status}}</mat-slide-toggle></td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </mat-card-content>
</mat-card>
